<html>
<head><title>Chapter 1- - Hibernate Search in Action</title></head>
<body>
<h1>Chapter 10 - Hibernate Search in Action</h1>
<p>This chapter describes how to deploy Hibernate Search in a cluster.</p>

<h2>Project structure</h2>
<h3>src</h3>
<p>Contains the application deployed. META-INF/persistence-slave.xml describes the slave configuration. META-INF/persistence-master.xml describes the master configuration.</p>
<p>The action package contains the EJB 3 component simulating the application. The master package contains the MessageDrivenBean listening to the Hibernate Search queue and indexing on the master. The web package contains a servlet simluating a call to the application and a change to one of the entities.</p>

<h3>test</h3>
<p>No test is available in this chapter. Deploy the application and see the changes being propagated.</p>

<h3>etc</h3>
<p>contains the WAR web.xml config file. Thsi file declare the servlet we are using.</p>

<h3>serverconfig</h3>
<p>Represents the whole configuration directory for JBoss AS 5 of both the master node and the slave node.</p>
<p>You can copy these directories under $JBOSS_HOME/server and run JBoss AS 5 in $JBOSS/bin using ./run.sh -c master or ./run.sh -c slave</p>
<p>JBoss AS 5 is available at <a href="http://www.jboss.org/jbossas/">jboss.org</a>

<h3>Dependencies</h3>
<p>You can find the libraries necessary to compile and run the tests in ../common/lib. You also need to add the libraries found in ./lib</p>
<p>The ant script is slightly different than the other projects. use ant clean to clear, use ant compile to compile the project, use ant package to create the necessary EARs (distribution). use ant redeploy to deploy the various artifacts in JBoss AS.
<p>You need to update build.properties and adjust jboss.slave.deploy andf jboss.mster.deploy to poin to the deploy directory you wish to deploy the projects on.</p>
</body></html>